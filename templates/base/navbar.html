
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="/">PrestaLabs</a>
        <div class="d-flex align-items-center ms-auto" style="color:#fff;font-weight:500;">
            <span id="fecha-hora-caba" class="me-3">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                <path d="M8 3.5a.5.5 0 0 1 .5.5v4h3a.5.5 0 0 1 0 1h-3.5A.5.5 0 0 1 7 8.5v-4A.5.5 0 0 1 8 3.5z"></path>
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm0-1A7 7 0 1 1 8 1a7 7 0 0 1 0 14z"></path>
              </svg>
              <!-- Fecha y hora Argentina/CABA -->
              <span id="fecha-hora-texto"></span>
            </span>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item dropdown d-flex align-items-center">
                  <span class="me-2" style="color: #fff; font-weight: bold; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">
                    <i class="fas fa-user-circle"></i>
                    {% if user.is_authenticated %}
                      {{ user.get_full_name|default:user.username }}
                    {% else %}
                      Invitado
                    {% endif %}
                  </span>
                  <a class="nav-link dropdown-toggle" href="#" id="accionesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                      <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path>
                    </svg>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="accionesDropdown">
                    <li><a class="dropdown-item" href="/usuarios/">Gestión de Usuarios</a></li>
                    <li><a class="dropdown-item" href="/analisis/dominio/">Análisis de Dominio Completo</a></li>
                    <li><a class="dropdown-item" href="/analisis/url/">Análisis de URL Específica</a></li>
                    <li><a class="dropdown-item" href="/logout/">Cerrar sesión</a></li>
                  </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
// Actualizar fecha y hora de Argentina/CABA
function actualizarFechaHoraCABA() {
    const now = new Date();
    const opciones = { timeZone: 'America/Argentina/Buenos_Aires', year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', hour12: true };
    const fechaHora = now.toLocaleString('es-AR', opciones);
    document.getElementById('fecha-hora-texto').textContent = fechaHora;
}
setInterval(actualizarFechaHoraCABA, 1000);
actualizarFechaHoraCABA();
</script>

<style>
  .badge {
    font-size: 0.6em;
    padding: 0.25em 0.5em;
    margin-left: 0.5em;
    vertical-align: middle;
  }
  .bg-admin {
    background-color: #dc3545 !important;
  }
  .bg-pro {
    background-color: #007bff !important;
  }
  .bg-seo {
    background-color: #28a745 !important;
  }
  .bg-data {
    background-color: #6f42c1 !important;
  }
  .navbar-nav .nav-link {
    display: flex;
    align-items: center;
  }
  .navbar-nav .nav-link i {
    margin-right: 0.5em;
    min-width: 1.5em;
  }
</style>
